<?xml version="1.0" encoding="utf-8"?>
<mx:Application 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="vertical"
	creationComplete="{facade.startup(this)}" 
	xmlns:chart="com.neosavvy.svn.analytics.components.chart.*" 
	xmlns:grid="com.neosavvy.svn.analytics.components.grid.*"
	backgroundGradientAlphas="[1.0, 1.0]" 
	backgroundGradientColors="[#FFFFFF, #FFFFFF]">
	
	<mx:Script>
		<![CDATA[
			private var facade:ApplicationFacade = ApplicationFacade.getInstance();
			
			public static var REFINE_SEARCH:String = "refineSearch";
			public static var RESET_SEARCH:String = "resetSearch";
			public static var MANAGE_REPOSITORIES:String = "manageRepositories";
			
			private function refineSearch():void {
				dispatchEvent(new Event(REFINE_SEARCH));
			}
			
			private function resetSearch():void {
				dispatchEvent(new Event(RESET_SEARCH));
			}
			
			private function manageRepositories():void {
				dispatchEvent(new Event(MANAGE_REPOSITORIES));
			}
		]]>
	</mx:Script>
	<mx:Panel width="100%" height="25%" title="Welcome to SVN Spy">
		<mx:Text 
			width="100%"
			height="100%"
			text="This tool is constantly archiving metadata gathered from repositories who have owners that have signed their repository up for analysis. So far minimal statistics are being generated and all files are being archived. Later more information will be archivted so please check back as future updates are made. Please email me at aparrish@neosavvy.com if you have any ideas to help improve the usefulness of this tool."/>
	</mx:Panel>
	<mx:HBox
		backgroundColor="0xFFFFFF"
		width="100%"
		>
		<mx:Panel title="Select the user(s) to analyze">
			<mx:List 
				id="authorsSelector" 
				labelField="author"
				selectionColor="0xA6A6A6"
				rollOverColor="0xD1D1D1"
				alternatingItemColors="[0xEBEBEB,0xFFFFFF]"
				allowMultipleSelection="true"
				width="200"/>
		</mx:Panel>
		<mx:Panel title="Choose your Repository">
			<mx:List
				id="svnRepositorySelector"
				labelField="name"
				selectionColor="0xA6a6a6"
				rollOverColor="0xD1D1D1"
				alternatingItemColors="[0xEBEBEB,0xFFFFFF]"
				allowMultipleSelection="true"
				width="200"/>
		</mx:Panel>
		<mx:Panel title="Select the increment level" height="100%"
			paddingBottom="10" paddingLeft="10" paddingRight="10" paddingTop="10">
			<mx:RadioButtonGroup
				id="increments"
				/>
			<mx:RadioButton id="monthly" label="Monthly" groupName="{increments}" selected="true"/>
			<mx:RadioButton id="daily" label="Daily" groupName="{increments}"/>
		</mx:Panel>
		<mx:Panel title="Choose your start and end date" height="100%"
			paddingBottom="10" paddingLeft="10" paddingRight="10" paddingTop="10">
			<mx:Label text="Start Date"/>
			<mx:DateField id="startDate"/>
			<mx:Label text="End Date"/>
			<mx:DateField id="endDate"/>
		</mx:Panel>
		<mx:Panel height="100%" width="100%"
			paddingBottom="10" paddingLeft="10" paddingRight="10" paddingTop="10">
			<mx:Button label="Refine Search" click="{refineSearch()}"/>
			<mx:Button label="Reset" click="{resetSearch()}"/>
			<mx:Button label="Manage Repositories" click="{manageRepositories()}"/>
		</mx:Panel>
	</mx:HBox>
    <chart:ChartContainer backgroundColor="0xFFFFFF" id="chartContainer" width="100%" height="70%"/>
	<grid:GridContainer id="gridContainer" width="100%" height="30%"/>	
</mx:Application>
