<?xml version="1.0" encoding="utf-8"?>
<mx:Application 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="vertical"
	creationComplete="{facade.startup(this)}">
	
	<mx:Script>
		<![CDATA[
			private var facade:ApplicationFacade = ApplicationFacade.getInstance();
			
			public static var REFINE_SEARCH:String = "refineSearch";
			public static var RESET_SEARCH:String = "resetSearch";
			
			private function refineSearch():void {
				dispatchEvent(new Event(REFINE_SEARCH));
			}
			
			private function resetSearch():void {
				dispatchEvent(new Event(RESET_SEARCH));
			}
		]]>
	</mx:Script>
	
	<mx:ApplicationControlBar dock="true">
		<mx:ComboBox id="authorsSelector" labelField="author"/>
		<mx:DateField id="startDate"/>
		<mx:DateField id="endDate"/>
		<mx:Button label="Refine Search" click="{refineSearch()}"/>
		<mx:Button label="Reset" click="{resetSearch()}"/>
		<mx:RadioButtonGroup
			id="increments"
			/>
		<mx:RadioButton id="monthly" label="Monthly" groupName="{increments}" selected="true"/>
		<mx:RadioButton id="daily" label="Daily" groupName="{increments}"/>
	</mx:ApplicationControlBar>
	<mx:VBox 
		backgroundColor="0xFFFFFF" 
		width="100%" 
		height="70%">
		<mx:LineChart 
			id="historicalStatisticsChart" 
			showDataTips="true" 
			width="100%" 
			height="100%">
			<mx:horizontalAxis>
	           <mx:CategoryAxis
	                dataProvider="{historicalStatisticsChart.dataProvider}" 
	                categoryField="revisionDate"
	            />
	        </mx:horizontalAxis>
	        <mx:series>
	           <mx:LineSeries 
	                yField="numberfOfFiles" 
	                displayName="Files"
	           />
	           <mx:LineSeries 
                    yField="numberOfFilesAdded" 
                    displayName="Added"
               />
               <mx:LineSeries 
                    yField="numberOfFilesDeleted" 
                    displayName="Deleted"
               />
               <mx:LineSeries 
                    yField="numberOfFilesModified" 
                    displayName="Modified"
               />
	        </mx:series>
	     </mx:LineChart>
        <mx:Legend direction="horizontal" dataProvider="{historicalStatisticsChart}"/>
     </mx:VBox>
	<mx:AdvancedDataGrid id="summaryStatisticsGrid" width="100%" height="25%"/>
	
</mx:Application>
