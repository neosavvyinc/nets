<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

	<bean id="localOracleDataSource" class="org.apache.commons.dbcp.BasicDataSource">
		<property name="driverClassName" value="oracle.jdbc.pool.OracleDataSource"/>
		<property name="url" value="jdbc:oracle:thin:@172.16.0.128:1521:XE"/>
		<property name="username" value="svnanalytics"/>
		<property name="password" value="svnanalytics"/>
		<property name="initialSize" value="5"/>
		<property name="maxActive" value="10"/>
	</bean>
	
	<bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
		<property name="dataSource" ref="localOracleDataSource"/>	
	</bean>

<!--	<bean id="jndiDataSource" class="org.springframework.jndi.JndiObjectFactoryBean">-->
<!--		<property name="jndiName" value="jdbc/SvnAnalyticsDatasource"/>-->
<!--		<property name="resourceRef" value="true"/>-->
<!--	</bean>-->

    <bean id="sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocation" value="classpath:sql-map-config.xml"/>
    </bean>
    
    <bean id="svnAnalyticsDAO" class="com.neosavvy.svn.analytics.dao.ibatis.IbatisSVNStatisticDAOImpl">
        <property name="dataSource" ref="localOracleDataSource"/>
        <property name="sqlMapClient" ref="sqlMapClient"/>
    </bean>
    
    <bean id="svnStatService" class="com.neosavvy.svn.analytics.service.SvnStatServiceImpl">
        <property name="dao" ref="svnAnalyticsDAO"/>
    </bean>

</beans>