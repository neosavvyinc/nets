<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>

    <bean id="usaRepository" class="com.neosavvy.svn.analytics.importer.model.SVNRepositoryModel">

        <property name="url" value="https://svn.roundarch.com/repos/USA"/>
        <property name="name" value="aparrish"/>
        <property name="password" value="subw@y1"/>
        <property name="startRevision" value="0"/>
        <property name="endRevision" value="-1"/>
        
    </bean>

    <bean id="usaDSRepository" class="com.neosavvy.svn.analytics.importer.model.SVNRepositoryModel">

        <property name="url" value="https://svn.roundarch.com/repos/USADS"/>
        <property name="name" value="aparrish"/>
        <property name="password" value="subw@y1"/>
        <property name="startRevision" value="0"/>
        <property name="endRevision" value="-1"/>
        
    </bean>
    
    <bean id="svnRepositoryConverter" class="com.neosavvy.svn.analytics.importer.SVNRepositoryDatabaseConverterImpl">
        <property name="repositories">
            <list>
                <ref bean="usaRepository"/>
                <ref bean="usaDSRepository"/>
            </list>
        </property>    
        <property name="dao" ref="svnAnalyticsDAO"/>
    </bean>
    
    <bean id="conversionJob" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
        <property name="targetObject" ref="svnRepositoryConverter"/>
        <property name="targetMethod" value="run"/>
    </bean>
    
    <bean id="cronConversionTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="conversionJob"/>
        <property name="cronExpression" value="0 * 19 * * ?"/>
    </bean>
    
    <bean id="scheduler" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
        <property name="triggers">
            <list>
                <ref bean="cronConversionTrigger"/>
            </list>
        </property>
    </bean>

</beans>